# Personal Assistant

ИИ-агент с системой RAG на базе DeepSeek, интегрированный в телеграмм-бота 

## Основные возможности

- Классификация сообщения по трем классам (спам, заявка, вопрос)
- Ответ на информативный вопрос пользователя, относящийся к предметной области (RAG) 
- Извлечение информации (контактные данные, ФИО, желаемый продукт) из сообщения пользователя и сохранение информации в базу данных
- Игнорирование спам-сообщений
- Выявление потенциально прибыльных обращений

## Установка и использование
1. Клонируйте репозиторий
```git clone https://github.com/C1eem/Personal-Assistant```
2. В файле config.py введите корректный DSN
3. Загрузите в свое окружение переменные:
    DEEP_API_TOKEN - api-токен от OpenRouter
    BOT_TOKEN - токен телеграмм-бота
4. Запустите файл run.py
```python run.py```

Примечание: при необходимости для создания базы данных можно воспользоваться файлом start_db.py, предварительно поменяв в нем DSN

## Структура проекта

_**agent.py**_ - логика работы агента, содержит граф состояний и функции обработки каждого узла графа

_**bot.py**_ - входная точка программы, запуск работы телеграмм-бота, содержит функцию обработчик сообщений пользователей

_**config.py**_ - конфигурационный файл

_**database.ppy**_ - файл с классом базы данных, содержит функции создания таблицы и добавления записи в таблицу

_**DeepSeekR1.py**_ - файл с классом для работы с моделью DeepSeek, содержит функции, реализующие необходимые запросы к модели со стороны агента

_**RAG.py**_ - файл реализующий работу с RAG, содержит функцию для генерации ответа на вопрос на основе контекста

_**RAG_data.py**_ - файл предварительной обработки данных для RAG

_**run.py**_ - файл для установки всех зависимостей и запуска необходимых модулей

_**start_db.py**_ - вспомогательный файл для создания базы данных (запускается отдельно)